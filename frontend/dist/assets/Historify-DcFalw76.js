import{r as n,j as e}from"./vendor-react-RhKMXzW9.js";import{u as os,d as na,h as ca,e as p,c as N,B as o,t as c}from"./index-p-dqcvMy.js";import{A as oa,b as ia,c as da,d as ha,e as ma,f as xa,g as ua,h as ga}from"./alert-dialog-BuDxkkw7.js";import{C as z,a as L,b as pe,c as fe}from"./card-RIaMbsSq.js";import{D as je,b as ve,c as be,d as ye,e as Ne,f as we}from"./dialog-BPoiB9qy.js";import{I as O}from"./input-D0NvX0V-.js";import{L as x}from"./label-Do-FbZBv.js";import{P as pa}from"./progress-CeSlb6_P.js";import{S as te}from"./scroll-area-DjJ4selj.js";import{S as w,a as S,b as C,c as k,d as h}from"./select-CG3Hdt1O.js";import{T as is,a as ds,b as J,c as f,d as hs,e as m}from"./table-DEA_8jZS.js";import{T as fa,a as ja,b as Se,c as Ce}from"./tabs-C0aaJaNj.js";import{T as va}from"./textarea-tgXi33Sn.js";import{C as P}from"./checkbox-DkxCDjHL.js";import{S as ba}from"./switch-Dakc5sS8.js";import{D as ms,aw as ya,g as ke,c as Na,Z as xs,L as le,k as wa,l as Sa,ad as _e,ax as us,ay as De,av as gs,az as ps,aA as Ca,aB as ka,ac as fs,i as _a,X as Da,R as js,v as Ta,a0 as Ea,aC as Fa,aD as vs,aE as $a}from"./vendor-icons-Ca5eNZvr.js";import{L as Te}from"./vendor-router-DdyOoyPF.js";import"./vendor-syntax-CXZqcLdW.js";import"./vendor-radix-gKv__6YA.js";async function j(){return(await(await fetch("/auth/csrf-token",{credentials:"include"})).json()).csrf_token}const Aa=[{label:"1M",months:1},{label:"3M",months:3},{label:"6M",months:6},{label:"1Y",months:12},{label:"2Y",months:24},{label:"5Y",months:60}];function Ee(v){const R=new Date;return R.setMonth(R.getMonth()-v),R.toISOString().split("T")[0]}function et(){const{appMode:v,toggleAppMode:R,mode:Fe,toggleMode:bs,isTogglingMode:$e}=os(),{user:Ae}=na(),[i,ys]=n.useState([]),[re,Ns]=n.useState([]),[za,ws]=n.useState(null),[ne,Ss]=n.useState(null),[H,Cs]=n.useState(["NSE","BSE","NFO","BFO","MCX","CDS","BCD","NSE_INDEX","BSE_INDEX"]),[ce,ks]=n.useState({database_size_mb:0,total_records:0,total_symbols:0,watchlist_count:0}),[_s,ze]=n.useState("watchlist"),[F,M]=n.useState(""),[V,W]=n.useState("NSE"),[Y,oe]=n.useState([]),[Oe,B]=n.useState(!1),q=n.useRef(null),[Re,Ds]=n.useState("D"),[ie,Ie]=n.useState(()=>Ee(1)),[Le,Je]=n.useState(()=>new Date().toISOString().split("T")[0]),[Pe,Ts]=n.useState(!1),[Z,de]=n.useState([]),[Es,Fs]=n.useState(null),[$s,Me]=n.useState({}),[Ve,Be]=n.useState(!1),[As,U]=n.useState(!1),[Ue,Xe]=n.useState(""),[He,We]=n.useState(!1),[zs,G]=n.useState(!1),[he,Ye]=n.useState(""),[qe,Os]=n.useState("NSE"),[Ze,Rs]=n.useState("D"),[Q,Ge]=n.useState(null),[Qe,Ke]=n.useState(!1),me=n.useRef(null),[Is,xe]=n.useState(!1),[K,es]=n.useState(null),[Ls,ee]=n.useState(!1),[ue,Js]=n.useState("csv"),[_,Ps]=n.useState("all"),[D,ss]=n.useState(new Set(["D"])),[T,$]=n.useState(new Set),[as,ts]=n.useState(!1),[u,I]=n.useState(new Set),[g,ge]=n.useState({exchange:"",interval:"",search:""}),{socket:E}=ca(),b=n.useMemo(()=>{const s=new Map;for(const a of re){const l=`${a.symbol}:${a.exchange}`;s.has(l)||s.set(l,{symbol:a.symbol,exchange:a.exchange,intervals:[],total_records:0,earliest_date:a.first_date,latest_date:a.last_date});const t=s.get(l);t.intervals.push({interval:a.interval,record_count:a.record_count,first_date:a.first_date,last_date:a.last_date}),t.total_records+=a.record_count,a.first_date&&(!t.earliest_date||a.first_date<t.earliest_date)&&(t.earliest_date=a.first_date),a.last_date&&(!t.latest_date||a.last_date>t.latest_date)&&(t.latest_date=a.last_date)}for(const a of s.values())a.intervals.sort((l,t)=>{const r=["1m","5m","15m","30m","1h","D","W","M"];return r.indexOf(l.interval)-r.indexOf(t.interval)});return Array.from(s.values()).sort((a,l)=>a.symbol.localeCompare(l.symbol))},[re]),X=n.useMemo(()=>b.filter(s=>!(g.exchange&&g.exchange!=="__all__"&&s.exchange!==g.exchange||g.interval&&g.interval!=="__all__"&&!s.intervals.some(a=>a.interval===g.interval)||g.search&&!s.symbol.toLowerCase().includes(g.search.toLowerCase()))),[b,g]);n.useEffect(()=>{se(),ae(),Ms(),Vs(),A(),Bs(),y()},[]),n.useEffect(()=>{if(!E)return;const s=t=>{Me(r=>({...r,[t.job_id]:t})),de(r=>r.map(d=>d.id===t.job_id?{...d,completed_symbols:t.current,status:"running"}:d))},a=t=>{Me(r=>{const d={...r};return delete d[t.job_id],d}),y(),ae(),A(),c.success(`Job completed: ${t.completed} success, ${t.failed} failed`)},l=t=>{de(r=>r.map(d=>d.id===t.job_id?{...d,status:"paused"}:d))};return E.on("historify_progress",s),E.on("historify_job_complete",a),E.on("historify_job_paused",l),()=>{E.off("historify_progress",s),E.off("historify_job_complete",a),E.off("historify_job_paused",l)}},[E]),n.useEffect(()=>{const s=a=>{q.current&&!q.current.contains(a.target)&&B(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),n.useEffect(()=>{const s=setTimeout(()=>{F.length>=2?Us(F):(oe([]),B(!1))},300);return()=>clearTimeout(s)},[F]);const se=async()=>{try{const a=await(await fetch("/historify/api/watchlist",{credentials:"include"})).json();a.status==="success"&&ys(a.data||[])}catch(s){console.error("Error loading watchlist:",s)}},ae=async()=>{try{const a=await(await fetch("/historify/api/catalog",{credentials:"include"})).json();a.status==="success"&&Ns(a.data||[])}catch(s){console.error("Error loading catalog:",s)}},Ms=async()=>{try{const a=await(await fetch("/historify/api/intervals",{credentials:"include"})).json();a.status==="success"&&ws(a.data)}catch(s){console.error("Error loading intervals:",s)}},Vs=async()=>{try{const a=await(await fetch("/historify/api/historify-intervals",{credentials:"include"})).json();a.status==="success"&&Ss({storage_intervals:a.storage_intervals,computed_intervals:a.computed_intervals,all_intervals:a.all_intervals})}catch(s){console.error("Error loading historify intervals:",s)}},A=async()=>{try{const a=await(await fetch("/historify/api/stats",{credentials:"include"})).json();a.status==="success"&&ks(a.data)}catch(s){console.error("Error loading stats:",s)}},Bs=async()=>{try{const a=await(await fetch("/historify/api/exchanges",{credentials:"include"})).json();a.status==="success"&&a.data?.length>0&&Cs(a.data)}catch(s){console.error("Error loading exchanges:",s)}},y=async()=>{Be(!0);try{const a=await(await fetch("/historify/api/jobs?limit=50",{credentials:"include"})).json();a.status==="success"&&de(a.data||[])}catch(s){console.error("Error loading jobs:",s)}finally{Be(!1)}},Us=async s=>{if(!(s.length<2))try{const a=new URLSearchParams({q:s});V&&a.append("exchange",V);const t=await(await fetch(`/search/api/search?${a}`,{credentials:"include"})).json();oe((t.results||[]).slice(0,10)),B(!0)}catch(a){console.error("Error searching symbols:",a),oe([])}},ls=async()=>{if(!F.trim()){c.warning("Please enter a symbol");return}try{const s=await j(),l=await(await fetch("/historify/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":s},credentials:"include",body:JSON.stringify({symbol:F.trim().toUpperCase(),exchange:V})})).json();l.status==="success"?(c.success(l.message),M(""),se(),A()):c.error(l.message||"Failed to add symbol")}catch(s){console.error("Error adding to watchlist:",s),c.error("Failed to add symbol")}},Xs=async(s,a)=>{try{const l=await j(),r=await(await fetch("/historify/api/watchlist",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":l},credentials:"include",body:JSON.stringify({symbol:s,exchange:a})})).json();r.status==="success"?(c.success(r.message),se(),A()):c.error(r.message||"Failed to remove symbol")}catch(l){console.error("Error removing from watchlist:",l),c.error("Failed to remove symbol")}},Hs=async()=>{const a=Ue.trim().split(`
`).map(l=>{const[t,r]=l.split(",").map(d=>d.trim().toUpperCase());return{symbol:t,exchange:r||"NSE"}}).filter(l=>l.symbol);if(a.length===0){c.warning("No valid symbols found");return}We(!0);try{const l=await j(),r=await(await fetch("/historify/api/watchlist/bulk",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},credentials:"include",body:JSON.stringify({symbols:a})})).json();r.status==="success"?(c.success(`Added ${r.added} symbols`),U(!1),Xe(""),se(),A()):c.error(r.message||"Failed to bulk add symbols")}catch(l){console.error("Error bulk adding:",l),c.error("Failed to bulk add symbols")}finally{We(!1)}},rs=async(s,a="custom")=>{if(s.length===0){c.warning("No symbols selected");return}try{const l=await j(),r=await(await fetch("/historify/api/jobs",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},credentials:"include",body:JSON.stringify({job_type:a,symbols:s,interval:Re,start_date:ie,end_date:Le,incremental:Pe})})).json();r.status==="success"?(c.success(`Job started: ${r.total_symbols} symbols`),y(),ze("jobs")):c.error(r.message||"Failed to create job")}catch(l){console.error("Error creating job:",l),c.error("Failed to create job")}},Ws=async()=>{if(i.length===0){c.warning("Watchlist is empty");return}const s=i.map(a=>({symbol:a.symbol,exchange:a.exchange}));await rs(s,"watchlist")},Ys=async s=>{try{const a=await j(),t=await(await fetch(`/historify/api/jobs/${s}/pause`,{method:"POST",headers:{"X-CSRFToken":a},credentials:"include"})).json();t.status==="success"?(c.success("Job paused"),y()):c.error(t.message||"Failed to pause job")}catch(a){console.error("Error pausing job:",a),c.error("Failed to pause job")}},qs=async s=>{try{const a=await j(),t=await(await fetch(`/historify/api/jobs/${s}/resume`,{method:"POST",headers:{"X-CSRFToken":a},credentials:"include"})).json();t.status==="success"?(c.success("Job resumed"),y()):c.error(t.message||"Failed to resume job")}catch(a){console.error("Error resuming job:",a),c.error("Failed to resume job")}},ns=async s=>{try{const a=await j(),t=await(await fetch(`/historify/api/jobs/${s}/cancel`,{method:"POST",headers:{"X-CSRFToken":a},credentials:"include"})).json();t.status==="success"?(c.success("Job cancellation requested"),y()):c.error(t.message||"Failed to cancel job")}catch(a){console.error("Error cancelling job:",a),c.error("Failed to cancel job")}},Zs=async s=>{try{const a=await j(),t=await(await fetch(`/historify/api/jobs/${s}/retry`,{method:"POST",headers:{"X-CSRFToken":a},credentials:"include"})).json();t.status==="success"?(c.success(`Retrying ${t.retry_count} failed items`),y()):c.error(t.message||"Failed to retry job")}catch(a){console.error("Error retrying job:",a),c.error("Failed to retry job")}},Gs=async s=>{try{const a=await j(),t=await(await fetch(`/historify/api/jobs/${s}`,{method:"DELETE",headers:{"X-CSRFToken":a},credentials:"include"})).json();t.status==="success"?(c.success("Job deleted"),y(),Es?.id===s&&Fs(null)):c.error(t.message||"Failed to delete job")}catch(a){console.error("Error deleting job:",a),c.error("Failed to delete job")}},Qs=async()=>{if(K)try{const s=await j(),l=await(await fetch("/historify/api/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":s},credentials:"include",body:JSON.stringify(K)})).json();l.status==="success"?(c.success(l.message),ae(),A()):c.error(l.message||"Failed to delete data")}catch(s){console.error("Error deleting data:",s),c.error("Failed to delete data")}finally{xe(!1),es(null)}},Ks=s=>{const a=s.target.files?.[0];if(a){if(!a.name.toLowerCase().endsWith(".csv")){c.error("Please select a CSV file");return}Ge(a)}},ea=async()=>{if(!Q){c.warning("Please select a CSV file");return}if(!he.trim()){c.warning("Please enter a symbol");return}Ke(!0);try{const s=await j(),a=new FormData;a.append("file",Q),a.append("symbol",he.trim().toUpperCase()),a.append("exchange",qe),a.append("interval",Ze);const t=await(await fetch("/historify/api/upload",{method:"POST",headers:{"X-CSRFToken":s},credentials:"include",body:a})).json();t.status==="success"?(c.success(`${t.message}`),G(!1),Ge(null),Ye(""),me.current&&(me.current.value=""),ae(),A()):c.error(t.message||"Failed to upload data")}catch(s){console.error("Error uploading CSV:",s),c.error("Failed to upload CSV")}finally{Ke(!1)}},sa=async()=>{ts(!0);try{const s=await j(),a=_==="selected"?Array.from(T).map(d=>{const[la,ra]=d.split(":");return{symbol:la,exchange:ra}}):null,l=Array.from(D),r=await(await fetch("/historify/api/export/bulk",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":s},credentials:"include",body:JSON.stringify({format:ue==="csv"&&l.length>1?"zip":ue,symbols:a,intervals:l,compression:"zstd"})})).json();r.status==="success"?(c.success(`${r.message}`),window.location.href="/historify/api/export/bulk/download",ee(!1)):c.error(r.message||"Failed to export data")}catch(s){console.error("Error exporting data:",s),c.error("Failed to export data")}finally{ts(!1)}},aa=(s,a)=>{const l=`${s}:${a}`;$(t=>{const r=new Set(t);return r.has(l)?r.delete(l):r.add(l),r})},ta=s=>{switch(s){case"running":return"bg-blue-500";case"paused":return"bg-yellow-500";case"completed":return"bg-green-500";case"completed_with_errors":return"bg-orange-500";case"failed":return"bg-red-500";case"cancelled":return"bg-gray-500";default:return"bg-gray-400"}},cs=async()=>{const s=await R();if(s.success){const a=os.getState().appMode;c.success(`Switched to ${a==="live"?"Live":"Analyze"} mode`)}else c.error(s.message||"Failed to toggle mode")};return e.jsxs("div",{className:"h-full flex flex-col bg-background",children:[e.jsx("div",{className:"border-b border-border bg-card/50",children:e.jsxs("div",{className:"px-4 py-3 flex flex-col sm:flex-row sm:items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ms,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Historify"}),e.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Historical Data Management"})]})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-muted/50 rounded-lg",children:[e.jsx(ya,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm font-medium",children:[ce.database_size_mb.toFixed(1)," MB"]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-muted/50 rounded-lg",children:[e.jsx(ke,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:ce.total_records.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-muted/50 rounded-lg",children:[e.jsx(Na,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:ce.total_symbols})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[Ae?.broker&&e.jsx(p,{variant:"outline",className:"text-xs font-medium",children:Ae.broker.toUpperCase()}),e.jsxs(p,{variant:v==="live"?"default":"secondary",className:N("text-xs cursor-pointer",v==="analyzer"&&"bg-purple-500 hover:bg-purple-600 text-white"),onClick:cs,children:[v==="live"?e.jsx(xs,{className:"h-3 w-3 mr-1"}):e.jsx(ke,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:v==="live"?"Live Mode":"Analyze Mode"}),e.jsx("span",{className:"sm:hidden",children:v==="live"?"Live":"Analyze"})]}),e.jsx(o,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:cs,disabled:$e,title:`Switch to ${v==="live"?"Analyze":"Live"} mode`,children:$e?e.jsx(le,{className:"h-4 w-4 animate-spin"}):v==="live"?e.jsx(xs,{className:"h-4 w-4"}):e.jsx(ke,{className:"h-4 w-4"})}),e.jsx(o,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:bs,disabled:v!=="live",title:Fe==="light"?"Switch to dark mode":"Switch to light mode",children:Fe==="light"?e.jsx(wa,{className:"h-4 w-4"}):e.jsx(Sa,{className:"h-4 w-4"})}),e.jsx(Te,{to:i.length>0?`/historify/charts/${i[0].symbol}?exchange=${i[0].exchange}&interval=D`:b.length>0?`/historify/charts/${b[0].symbol}?exchange=${b[0].exchange}&interval=D`:"/historify/charts",children:e.jsxs(o,{variant:"outline",size:"sm",children:[e.jsx(_e,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Charts"})]})})]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsxs(fa,{value:_s,onValueChange:ze,className:"h-full flex flex-col",children:[e.jsx("div",{className:"border-b border-border px-4 overflow-x-auto",children:e.jsxs(ja,{className:"h-10 bg-transparent w-max min-w-full sm:w-auto",children:[e.jsxs(Se,{value:"watchlist",className:"gap-1.5 data-[state=active]:bg-muted",children:[e.jsx(us,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Watchlist"}),e.jsx("span",{className:"sm:hidden",children:"Watch"}),i.length>0&&e.jsx(p,{variant:"secondary",className:"ml-1 h-5 min-w-5 text-xs",children:i.length})]}),e.jsxs(Se,{value:"catalog",className:"gap-1.5 data-[state=active]:bg-muted",children:[e.jsx(ms,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Data Catalog"}),e.jsx("span",{className:"sm:hidden",children:"Catalog"})]}),e.jsxs(Se,{value:"jobs",className:"gap-1.5 data-[state=active]:bg-muted",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Download Jobs"}),e.jsx("span",{className:"sm:hidden",children:"Jobs"}),Z.filter(s=>s.status==="running"||s.status==="paused").length>0&&e.jsx(p,{variant:"default",className:"ml-1 h-5 min-w-5 text-xs bg-blue-500",children:Z.filter(s=>s.status==="running"||s.status==="paused").length})]})]})}),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[e.jsx(Ce,{value:"catalog",className:"h-full m-0 p-4 overflow-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(z,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",ref:q,children:[e.jsx(O,{placeholder:"Quick add symbol to watchlist...",value:F,onChange:s=>M(s.target.value.toUpperCase()),className:"h-9"}),Oe&&Y.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-popover border border-border rounded-md shadow-lg z-50 max-h-60 overflow-auto",children:Y.map(s=>e.jsxs("div",{className:"px-3 py-2 hover:bg-muted cursor-pointer",onClick:()=>{M(s.symbol),W(s.exchange),B(!1)},children:[e.jsx("div",{className:"font-medium",children:s.symbol}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.name," - ",s.exchange]})]},`${s.symbol}-${s.exchange}`))})]}),e.jsxs(w,{value:V,onValueChange:W,children:[e.jsx(S,{className:"w-full sm:w-28 h-9",children:e.jsx(C,{})}),e.jsx(k,{children:H.map(s=>e.jsx(h,{value:s,children:s},s))})]}),e.jsxs(o,{onClick:ls,className:"h-9",size:"sm",children:[e.jsx(gs,{className:"h-4 w-4 mr-1"}),"Add to Watchlist"]}),e.jsxs(o,{variant:"outline",onClick:()=>U(!0),className:"h-9",size:"sm",children:[e.jsx(ps,{className:"h-4 w-4 mr-1"}),"Bulk"]})]})})}),e.jsx(z,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(O,{placeholder:"Filter catalog symbols...",value:g.search,onChange:s=>ge(a=>({...a,search:s.target.value})),className:"h-9"})}),e.jsxs(w,{value:g.exchange||"__all__",onValueChange:s=>ge(a=>({...a,exchange:s})),children:[e.jsx(S,{className:"w-full sm:w-32 h-9",children:e.jsx(C,{placeholder:"Exchange"})}),e.jsxs(k,{children:[e.jsx(h,{value:"__all__",children:"All"}),H.map(s=>e.jsx(h,{value:s,children:s},s))]})]}),e.jsxs(w,{value:g.interval||"__all__",onValueChange:s=>ge(a=>({...a,interval:s})),children:[e.jsx(S,{className:"w-full sm:w-32 h-9",title:"Filter symbols that have this interval",children:e.jsx(C,{placeholder:"Has Interval"})}),e.jsxs(k,{children:[e.jsx(h,{value:"__all__",children:"All Intervals"}),(ne?.storage_intervals||["1m","D"]).map(s=>e.jsxs(h,{value:s,children:["Has ",s]},s))]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>ee(!0),disabled:re.length===0,className:"h-9",children:[e.jsx(Ca,{className:"h-4 w-4 mr-1"}),"Export"]}),e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>G(!0),className:"h-9",children:[e.jsx(ka,{className:"h-4 w-4 mr-1"}),"Import"]})]})]})})}),e.jsx(z,{children:e.jsx(te,{className:"h-[calc(100vh-380px)]",children:e.jsxs(is,{children:[e.jsx(ds,{children:e.jsxs(J,{children:[e.jsx(f,{className:"w-10",children:e.jsx(P,{checked:T.size===X.length&&X.length>0,onCheckedChange:s=>{$(s?new Set(X.map(a=>`${a.symbol}:${a.exchange}`)):new Set)}})}),e.jsx(f,{children:"Symbol"}),e.jsx(f,{className:"hidden sm:table-cell",children:"Exchange"}),e.jsx(f,{children:"Available Intervals"}),e.jsx(f,{className:"text-right hidden sm:table-cell",children:"Total Records"}),e.jsx(f,{className:"hidden md:table-cell",children:"Date Range"}),e.jsx(f,{className:"w-20"})]})}),e.jsx(hs,{children:X.length===0?e.jsx(J,{children:e.jsx(m,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No data available. Add symbols to watchlist and download data."})}):X.map(s=>e.jsxs(J,{children:[e.jsx(m,{children:e.jsx(P,{checked:T.has(`${s.symbol}:${s.exchange}`),onCheckedChange:()=>aa(s.symbol,s.exchange)})}),e.jsx(m,{className:"font-medium",children:e.jsxs("div",{children:[s.symbol,e.jsxs("span",{className:"sm:hidden text-xs text-muted-foreground ml-1",children:["(",s.exchange,")"]})]})}),e.jsx(m,{className:"hidden sm:table-cell",children:e.jsx(p,{variant:"outline",children:s.exchange})}),e.jsx(m,{children:e.jsx("div",{className:"flex flex-wrap gap-1",children:s.intervals.map(a=>e.jsxs(p,{variant:a.interval==="1m"?"default":a.interval==="D"?"secondary":"outline",className:"text-xs cursor-pointer hover:bg-primary/80",title:`${a.record_count.toLocaleString()} records (${a.first_date} - ${a.last_date})`,onClick:()=>{window.location.href=`/historify/charts/${s.symbol}?exchange=${s.exchange}&interval=${a.interval}`},children:[a.interval,e.jsx("span",{className:"ml-1 opacity-70",children:a.record_count>1e3?`${Math.round(a.record_count/1e3)}k`:a.record_count})]},a.interval))})}),e.jsx(m,{className:"text-right hidden sm:table-cell",children:s.total_records.toLocaleString()}),e.jsxs(m,{className:"hidden md:table-cell text-muted-foreground text-sm",children:[s.earliest_date," - ",s.latest_date]}),e.jsx(m,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(o,{variant:"ghost",size:"icon",className:"h-7 w-7",asChild:!0,children:e.jsx(Te,{to:`/historify/charts/${s.symbol}?exchange=${s.exchange}&interval=${s.intervals[0]?.interval||"D"}`,children:e.jsx(_e,{className:"h-3.5 w-3.5"})})}),e.jsx(o,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>{es({symbol:s.symbol,exchange:s.exchange}),xe(!0)},children:e.jsx(fs,{className:"h-3.5 w-3.5"})})]})})]},`${s.symbol}-${s.exchange}`))})]})})})]})}),e.jsxs(Ce,{value:"watchlist",className:"h-full m-0 p-4 overflow-auto",children:[e.jsx(z,{className:"mb-4",children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",ref:q,children:[e.jsx(O,{placeholder:"Search symbol to add...",value:F,onChange:s=>M(s.target.value.toUpperCase()),className:"h-9"}),Oe&&Y.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-popover border border-border rounded-md shadow-lg z-50 max-h-60 overflow-auto",children:Y.map(s=>e.jsxs("div",{className:"px-3 py-2 hover:bg-muted cursor-pointer",onClick:()=>{M(s.symbol),W(s.exchange),B(!1)},children:[e.jsx("div",{className:"font-medium",children:s.symbol}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.name," - ",s.exchange]})]},`${s.symbol}-${s.exchange}`))})]}),e.jsxs(w,{value:V,onValueChange:W,children:[e.jsx(S,{className:"w-full sm:w-28 h-9",children:e.jsx(C,{})}),e.jsx(k,{children:H.map(s=>e.jsx(h,{value:s,children:s},s))})]}),e.jsxs(o,{onClick:ls,className:"h-9",children:[e.jsx(gs,{className:"h-4 w-4 mr-1"}),"Add"]}),e.jsxs(o,{variant:"outline",onClick:()=>U(!0),className:"h-9",children:[e.jsx(ps,{className:"h-4 w-4 mr-1"}),"Bulk"]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 h-[calc(100vh-240px)]",children:[e.jsxs(z,{className:"flex flex-col",children:[e.jsx(pe,{className:"pb-3",children:e.jsxs(fe,{className:"text-base flex items-center gap-2",children:[e.jsx(_a,{className:"h-4 w-4"}),"Download Settings"]})}),e.jsx(L,{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(x,{className:"text-sm text-muted-foreground mb-2 block",children:"Quick Date Range"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Aa.map(s=>{const a=ie===Ee(s.months);return e.jsx(o,{variant:a?"default":"outline",size:"sm",className:N("h-8 min-w-[3rem]",a&&"ring-2 ring-primary ring-offset-2 ring-offset-background"),onClick:()=>{Ie(Ee(s.months)),Je(new Date().toISOString().split("T")[0])},children:s.label},s.label)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(x,{className:"text-sm text-muted-foreground",children:"From"}),e.jsx(O,{type:"date",value:ie,onChange:s=>Ie(s.target.value),className:"h-9 mt-1"})]}),e.jsxs("div",{children:[e.jsx(x,{className:"text-sm text-muted-foreground",children:"To"}),e.jsx(O,{type:"date",value:Le,onChange:s=>Je(s.target.value),className:"h-9 mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(x,{className:"text-sm text-muted-foreground",children:"Interval"}),e.jsxs(w,{value:Re,onValueChange:Ds,children:[e.jsx(S,{className:"h-9 mt-1",children:e.jsx(C,{})}),e.jsx(k,{children:(ne?.storage_intervals||["1m","D"]).map(s=>e.jsx(h,{value:s,children:s==="1m"?"1 Minute":s==="D"?"Daily":s},s))})]}),e.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Other timeframes (5m, 15m, 30m, 1h) computed from 1m data"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx(x,{className:"font-medium",children:"Incremental Download"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Only download new data after last timestamp"})]}),e.jsx(ba,{checked:Pe,onCheckedChange:Ts})]}),e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsxs(o,{className:"w-full h-10",onClick:()=>{if(u.size===0)Ws();else{const s=i.filter(a=>u.has(`${a.symbol}:${a.exchange}`)).map(a=>({symbol:a.symbol,exchange:a.exchange}));rs(s,"watchlist")}},disabled:i.length===0,children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),u.size>0?`Download Selected (${u.size})`:`Download All (${i.length})`]}),u.size>0&&e.jsx(o,{variant:"outline",className:"w-full h-9",onClick:()=>I(new Set),children:"Clear Selection"})]})]})})]}),e.jsxs(z,{className:"flex flex-col",children:[e.jsx(pe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(fe,{className:"text-base",children:["Symbols (",i.length,")",u.size>0&&e.jsxs(p,{className:"ml-2",children:[u.size," selected"]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(o,{variant:"outline",size:"sm",onClick:()=>{u.size===i.length?I(new Set):I(new Set(i.map(s=>`${s.symbol}:${s.exchange}`)))},children:u.size===i.length?"Deselect All":"Select All"})})]})}),e.jsx(L,{className:"flex-1 p-0 overflow-hidden",children:e.jsx(te,{className:"h-full",children:e.jsxs(is,{children:[e.jsx(ds,{children:e.jsxs(J,{children:[e.jsx(f,{className:"w-10",children:e.jsx(P,{checked:u.size===i.length&&i.length>0,onCheckedChange:s=>{I(s?new Set(i.map(a=>`${a.symbol}:${a.exchange}`)):new Set)}})}),e.jsx(f,{children:"Symbol"}),e.jsx(f,{className:"hidden sm:table-cell",children:"Exchange"}),e.jsx(f,{className:"hidden md:table-cell",children:"Added"}),e.jsx(f,{className:"w-20 text-right",children:"Actions"})]})}),e.jsx(hs,{children:i.length===0?e.jsx(J,{children:e.jsxs(m,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:[e.jsx(us,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No symbols in watchlist"}),e.jsx("p",{className:"text-sm mt-1",children:"Add symbols using the search above"})]})}):i.map(s=>e.jsxs(J,{className:N(u.has(`${s.symbol}:${s.exchange}`)&&"bg-muted/50"),children:[e.jsx(m,{children:e.jsx(P,{checked:u.has(`${s.symbol}:${s.exchange}`),onCheckedChange:()=>{I(a=>{const l=new Set(a),t=`${s.symbol}:${s.exchange}`;return l.has(t)?l.delete(t):l.add(t),l})}})}),e.jsxs(m,{className:"font-medium",children:[s.symbol,e.jsxs("span",{className:"sm:hidden text-xs text-muted-foreground ml-1",children:["(",s.exchange,")"]})]}),e.jsx(m,{className:"hidden sm:table-cell",children:e.jsx(p,{variant:"outline",children:s.exchange})}),e.jsx(m,{className:"hidden md:table-cell text-muted-foreground text-sm",children:new Date(s.added_at).toLocaleDateString()}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(o,{variant:"ghost",size:"icon",className:"h-7 w-7",asChild:!0,title:"View chart",children:e.jsx(Te,{to:`/historify/charts/${s.symbol}?exchange=${s.exchange}&interval=D`,children:e.jsx(_e,{className:"h-4 w-4"})})}),e.jsx(o,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>Xs(s.symbol,s.exchange),title:"Remove from watchlist",children:e.jsx(Da,{className:"h-4 w-4"})})]})})]},s.id))})]})})})]})]})]}),e.jsx(Ce,{value:"jobs",className:"h-full m-0 p-4 overflow-auto",children:e.jsx("div",{className:"space-y-4",children:e.jsxs(z,{children:[e.jsx(pe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(fe,{className:"text-base",children:"Download Jobs"}),e.jsxs(o,{variant:"outline",size:"sm",onClick:y,disabled:Ve,children:[e.jsx(js,{className:N("h-4 w-4 mr-1",Ve&&"animate-spin")}),"Refresh"]})]})}),e.jsx(L,{className:"p-0",children:e.jsx(te,{className:"h-[calc(100vh-280px)]",children:Z.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(De,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No download jobs yet"}),e.jsx("p",{className:"text-sm mt-1",children:"Start a download from the Watchlist tab"})]}):e.jsx("div",{className:"divide-y divide-border",children:Z.map(s=>{const a=$s[s.id],l=a?.percent||(s.total_symbols>0?Math.round(s.completed_symbols/s.total_symbols*100):0);return e.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:N("w-2 h-2 rounded-full",ta(s.status))}),e.jsxs("span",{className:"font-medium truncate",children:["Job ",s.id]}),e.jsx(p,{variant:"outline",className:"text-xs",children:s.job_type}),e.jsx(p,{variant:s.status==="running"?"default":s.status==="paused"?"secondary":"outline",className:"text-xs",children:s.status})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.interval," | ",s.start_date," to ",s.end_date]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ta,{className:"h-3.5 w-3.5 text-green-500"}),s.completed_symbols]}),s.failed_symbols>0&&e.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[e.jsx(Ea,{className:"h-3.5 w-3.5"}),s.failed_symbols]}),e.jsxs("span",{className:"text-muted-foreground",children:["/ ",s.total_symbols," total"]})]}),(s.status==="running"||s.status==="paused")&&e.jsxs("div",{className:"mt-2",children:[e.jsx(pa,{value:l,className:"h-1.5"}),a&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Downloading: ",a.symbol," (",l,"%)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.status==="running"&&e.jsxs(e.Fragment,{children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>Ys(s.id),children:e.jsx(Fa,{className:"h-4 w-4"})}),e.jsx(o,{variant:"outline",size:"sm",className:"text-destructive",onClick:()=>ns(s.id),children:e.jsx(vs,{className:"h-4 w-4"})})]}),s.status==="paused"&&e.jsxs(e.Fragment,{children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>qs(s.id),children:e.jsx($a,{className:"h-4 w-4"})}),e.jsx(o,{variant:"outline",size:"sm",className:"text-destructive",onClick:()=>ns(s.id),children:e.jsx(vs,{className:"h-4 w-4"})})]}),(s.status==="completed_with_errors"||s.status==="failed")&&s.failed_symbols>0&&e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>Zs(s.id),children:[e.jsx(js,{className:"h-4 w-4 mr-1"}),"Retry"]}),s.status!=="running"&&s.status!=="paused"&&e.jsx(o,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>Gs(s.id),children:e.jsx(fs,{className:"h-4 w-4"})})]})]})},s.id)})})})})]})})})]})]})}),e.jsx(je,{open:As,onOpenChange:U,children:e.jsxs(ve,{className:"sm:max-w-md",children:[e.jsxs(be,{children:[e.jsx(ye,{children:"Bulk Add Symbols"}),e.jsx(Ne,{children:"Add multiple symbols at once. One per line: SYMBOL,EXCHANGE"})]}),e.jsx(va,{placeholder:`RELIANCE,NSE
INFY,NSE
NIFTY24DEC25000CE,NFO`,value:Ue,onChange:s=>Xe(s.target.value),rows:8}),e.jsxs(we,{children:[e.jsx(o,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),e.jsxs(o,{onClick:Hs,disabled:He,children:[He&&e.jsx(le,{className:"h-4 w-4 animate-spin mr-1"}),"Add Symbols"]})]})]})}),e.jsx(je,{open:zs,onOpenChange:G,children:e.jsxs(ve,{className:"sm:max-w-md",children:[e.jsxs(be,{children:[e.jsx(ye,{children:"Import CSV Data"}),e.jsx(Ne,{children:"Upload a CSV file with OHLCV data"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(x,{children:"Symbol"}),e.jsx(O,{value:he,onChange:s=>Ye(s.target.value.toUpperCase()),placeholder:"RELIANCE",className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(x,{children:"Exchange"}),e.jsxs(w,{value:qe,onValueChange:Os,children:[e.jsx(S,{className:"mt-1",children:e.jsx(C,{})}),e.jsx(k,{children:H.map(s=>e.jsx(h,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(x,{children:"Interval"}),e.jsxs(w,{value:Ze,onValueChange:Rs,children:[e.jsx(S,{className:"mt-1",children:e.jsx(C,{})}),e.jsx(k,{children:(ne?.storage_intervals||["1m","D"]).map(s=>e.jsx(h,{value:s,children:s==="1m"?"1 Minute":s==="D"?"Daily":s},s))})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Only 1min and Daily data can be stored"})]})]}),e.jsxs("div",{children:[e.jsx(x,{children:"CSV File"}),e.jsx(O,{ref:me,type:"file",accept:".csv",onChange:Ks,className:"mt-1"}),Q&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Selected: ",Q.name]})]})]}),e.jsxs(we,{children:[e.jsx(o,{variant:"outline",onClick:()=>G(!1),children:"Cancel"}),e.jsxs(o,{onClick:ea,disabled:Qe,children:[Qe&&e.jsx(le,{className:"h-4 w-4 animate-spin mr-1"}),"Upload"]})]})]})}),e.jsx(je,{open:Ls,onOpenChange:ee,children:e.jsxs(ve,{className:"sm:max-w-xl",children:[e.jsxs(be,{children:[e.jsx(ye,{children:"Export Data"}),e.jsx(Ne,{children:"Export historical data with multiple timeframes"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{children:"Export Format"}),e.jsxs(w,{value:ue,onValueChange:s=>Js(s),children:[e.jsx(S,{className:"mt-1",children:e.jsx(C,{})}),e.jsxs(k,{children:[e.jsx(h,{value:"zip",children:"ZIP Archive (Recommended)"}),e.jsx(h,{value:"csv",children:"CSV (Single file)"}),e.jsx(h,{value:"parquet",children:"Parquet (ZSTD)"})]})]})]}),e.jsxs("div",{children:[e.jsx(x,{children:"Symbols to Export"}),e.jsxs(w,{value:_,onValueChange:s=>Ps(s),children:[e.jsx(S,{className:"mt-1",children:e.jsx(C,{})}),e.jsxs(k,{children:[e.jsxs(h,{value:"all",children:["All (",b.length," symbols)"]}),e.jsxs(h,{value:"selected",children:["Selected (",T.size,")"]})]})]})]})]}),e.jsxs("div",{children:[e.jsx(x,{className:"mb-2 block",children:"Select Timeframes to Export"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Each timeframe will be exported as a separate file. Computed timeframes (5m, 15m, 30m, 1h) are aggregated from 1m data."}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2",children:["1m","5m","15m","30m","1h","D"].map(s=>{const a=["5m","15m","30m","1h"].includes(s),l=D.has(s);return e.jsxs("div",{className:N("flex flex-col items-center p-2 rounded-lg border cursor-pointer transition-colors",l?"bg-primary text-primary-foreground border-primary":"bg-muted/50 hover:bg-muted"),onClick:()=>{ss(t=>{const r=new Set(t);return r.has(s)?r.delete(s):r.add(s),r})},children:[e.jsx(P,{checked:l,className:N("mb-1",l&&"border-primary-foreground"),onClick:t=>t.stopPropagation(),onCheckedChange:()=>{ss(t=>{const r=new Set(t);return r.has(s)?r.delete(s):r.add(s),r})}}),e.jsx("span",{className:"font-medium text-sm",children:s}),e.jsx("span",{className:N("text-[10px]",l?"opacity-80":"text-muted-foreground"),children:a?"Computed":"Stored"})]},s)})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs(x,{className:"text-sm",children:[_==="selected"?"Selected Symbols":"All Symbols"," (",_==="selected"?T.size:b.length,")"]}),_==="selected"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>{const s=b.map(a=>`${a.symbol}:${a.exchange}`);$(new Set(s))},children:"Select All"}),e.jsx(o,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>$(new Set),children:"Clear"})]})]}),e.jsx(te,{className:"h-40 border rounded-md p-2",children:e.jsx("div",{className:"space-y-1",children:b.map(s=>{const a=`${s.symbol}:${s.exchange}`,l=T.has(a);return _==="all"?e.jsxs("div",{className:"flex items-center justify-between text-sm py-1 border-b border-border/50 last:border-0",children:[e.jsx("span",{className:"font-medium",children:s.symbol}),e.jsx(p,{variant:"outline",className:"text-xs",children:s.exchange})]},a):e.jsxs("div",{className:N("flex items-center gap-2 text-sm py-1.5 px-2 rounded cursor-pointer transition-colors border-b border-border/50 last:border-0",l?"bg-primary/10":"hover:bg-muted/50"),onClick:()=>{$(t=>{const r=new Set(t);return r.has(a)?r.delete(a):r.add(a),r})},children:[e.jsx(P,{checked:l,onCheckedChange:()=>{$(t=>{const r=new Set(t);return r.has(a)?r.delete(a):r.add(a),r})},onClick:t=>t.stopPropagation()}),e.jsx("span",{className:"font-medium flex-1",children:s.symbol}),e.jsx(p,{variant:"outline",className:"text-xs",children:s.exchange})]},a)})})})]}),e.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Export Summary:"}),e.jsxs("span",{className:"font-medium",children:[_==="selected"?T.size:b.length," symbols x ",D.size," timeframe",D.size!==1?"s":""]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Files: ",Array.from(D).sort().join(", ")]})]})]}),e.jsxs(we,{children:[e.jsx(o,{variant:"outline",onClick:()=>ee(!1),children:"Cancel"}),e.jsxs(o,{onClick:sa,disabled:as||D.size===0||_==="selected"&&T.size===0,children:[as&&e.jsx(le,{className:"h-4 w-4 animate-spin mr-1"}),"Export (",D.size," timeframe",D.size!==1?"s":"",")"]})]})]})}),e.jsx(oa,{open:Is,onOpenChange:xe,children:e.jsxs(ia,{children:[e.jsxs(da,{children:[e.jsx(ha,{children:"Delete Data"}),e.jsxs(ma,{children:["Are you sure you want to delete all data for ",K?.symbol," (",K?.exchange,")? This action cannot be undone."]})]}),e.jsxs(xa,{children:[e.jsx(ua,{children:"Cancel"}),e.jsx(ga,{onClick:Qs,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})}export{et as default};
