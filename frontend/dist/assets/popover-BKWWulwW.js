import{r as a,j as I}from"./vendor-react-CCyQGCED.js";import{a5 as z,a6 as j,i as Ce,m as Ie,O as Se,k as Re,a7 as V,a8 as je,a9 as Ae,aa as Me,ab as $e}from"./vendor-radix-CYVJEJRR.js";import{c as F}from"./index-D0023jFM.js";import{S as De}from"./vendor-icons-CCn_k3dF.js";var me=1,Pe=.9,Ne=.8,ze=.17,ee=.1,te=.999,Fe=.9999,Ke=.99,Le=/[\\\/_+.#"@\[\(\{&]/,qe=/[\\\/_+.#"@\[\(\{&]/g,Ve=/[\s-]/,ge=/[\s-]/g;function ne(e,n,r,c,o,d,s){if(d===n.length)return o===e.length?me:Ke;var m=`${o},${d}`;if(s[m]!==void 0)return s[m];for(var b=c.charAt(d),u=r.indexOf(b,o),v=0,g,C,w,S;u>=0;)g=ne(e,n,r,c,u+1,d+1,s),g>v&&(u===o?g*=me:Le.test(e.charAt(u-1))?(g*=Ne,w=e.slice(o,u-1).match(qe),w&&o>0&&(g*=Math.pow(te,w.length))):Ve.test(e.charAt(u-1))?(g*=Pe,S=e.slice(o,u-1).match(ge),S&&o>0&&(g*=Math.pow(te,S.length))):(g*=ze,o>0&&(g*=Math.pow(te,u-o))),e.charAt(u)!==n.charAt(d)&&(g*=Fe)),(g<ee&&r.charAt(u-1)===c.charAt(d+1)||c.charAt(d+1)===c.charAt(d)&&r.charAt(u-1)!==c.charAt(d))&&(C=ne(e,n,r,c,u+1,d+2,s),C*ee>g&&(g=C*ee)),g>v&&(v=g),u=r.indexOf(b,u+1);return s[m]=v,v}function pe(e){return e.toLowerCase().replace(ge," ")}function Oe(e,n,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,ne(e,n,pe(e),pe(n),0,0,{})}var q='[cmdk-group=""]',re='[cmdk-group-items=""]',Be='[cmdk-group-heading=""]',he='[cmdk-item=""]',ve=`${he}:not([aria-disabled="true"])`,ae="cmdk-item-select",P="data-value",Te=(e,n,r)=>Oe(e,n,r),be=a.createContext(void 0),O=()=>a.useContext(be),xe=a.createContext(void 0),le=()=>a.useContext(xe),ye=a.createContext(void 0),we=a.forwardRef((e,n)=>{let r=N(()=>{var t,i;return{search:"",value:(i=(t=e.value)!=null?t:e.defaultValue)!=null?i:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),c=N(()=>new Set),o=N(()=>new Map),d=N(()=>new Map),s=N(()=>new Set),m=ke(e),{label:b,children:u,value:v,onValueChange:g,filter:C,shouldFilter:w,loop:S,disablePointerSelection:U=!1,vimBindings:A=!0,...B}=e,H=z(),oe=z(),W=z(),M=a.useRef(null),x=et();$(()=>{if(v!==void 0){let t=v.trim();r.current.value=t,k.emit()}},[v]),$(()=>{x(6,ie)},[]);let k=a.useMemo(()=>({subscribe:t=>(s.current.add(t),()=>s.current.delete(t)),snapshot:()=>r.current,setState:(t,i,f)=>{var l,p,h,E;if(!Object.is(r.current[t],i)){if(r.current[t]=i,t==="search")Y(),J(),x(1,X);else if(t==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let y=document.getElementById(W);y?y.focus():(l=document.getElementById(H))==null||l.focus()}if(x(7,()=>{var y;r.current.selectedItemId=(y=D())==null?void 0:y.id,k.emit()}),f||x(5,ie),((p=m.current)==null?void 0:p.value)!==void 0){let y=i??"";(E=(h=m.current).onValueChange)==null||E.call(h,y);return}}k.emit()}},emit:()=>{s.current.forEach(t=>t())}}),[]),_=a.useMemo(()=>({value:(t,i,f)=>{var l;i!==((l=d.current.get(t))==null?void 0:l.value)&&(d.current.set(t,{value:i,keywords:f}),r.current.filtered.items.set(t,ue(i,f)),x(2,()=>{J(),k.emit()}))},item:(t,i)=>(c.current.add(t),i&&(o.current.has(i)?o.current.get(i).add(t):o.current.set(i,new Set([t]))),x(3,()=>{Y(),J(),r.current.value||X(),k.emit()}),()=>{d.current.delete(t),c.current.delete(t),r.current.filtered.items.delete(t);let f=D();x(4,()=>{Y(),f?.getAttribute("id")===t&&X(),k.emit()})}),group:t=>(o.current.has(t)||o.current.set(t,new Set),()=>{d.current.delete(t),o.current.delete(t)}),filter:()=>m.current.shouldFilter,label:b||e["aria-label"],getDisablePointerSelection:()=>m.current.disablePointerSelection,listId:H,inputId:W,labelId:oe,listInnerRef:M}),[]);function ue(t,i){var f,l;let p=(l=(f=m.current)==null?void 0:f.filter)!=null?l:Te;return t?p(t,r.current.search,i):0}function J(){if(!r.current.search||m.current.shouldFilter===!1)return;let t=r.current.filtered.items,i=[];r.current.filtered.groups.forEach(l=>{let p=o.current.get(l),h=0;p.forEach(E=>{let y=t.get(E);h=Math.max(y,h)}),i.push([l,h])});let f=M.current;L().sort((l,p)=>{var h,E;let y=l.getAttribute("id"),T=p.getAttribute("id");return((h=t.get(T))!=null?h:0)-((E=t.get(y))!=null?E:0)}).forEach(l=>{let p=l.closest(re);p?p.appendChild(l.parentElement===p?l:l.closest(`${re} > *`)):f.appendChild(l.parentElement===f?l:l.closest(`${re} > *`))}),i.sort((l,p)=>p[1]-l[1]).forEach(l=>{var p;let h=(p=M.current)==null?void 0:p.querySelector(`${q}[${P}="${encodeURIComponent(l[0])}"]`);h?.parentElement.appendChild(h)})}function X(){let t=L().find(f=>f.getAttribute("aria-disabled")!=="true"),i=t?.getAttribute(P);k.setState("value",i||void 0)}function Y(){var t,i,f,l;if(!r.current.search||m.current.shouldFilter===!1){r.current.filtered.count=c.current.size;return}r.current.filtered.groups=new Set;let p=0;for(let h of c.current){let E=(i=(t=d.current.get(h))==null?void 0:t.value)!=null?i:"",y=(l=(f=d.current.get(h))==null?void 0:f.keywords)!=null?l:[],T=ue(E,y);r.current.filtered.items.set(h,T),T>0&&p++}for(let[h,E]of o.current)for(let y of E)if(r.current.filtered.items.get(y)>0){r.current.filtered.groups.add(h);break}r.current.filtered.count=p}function ie(){var t,i,f;let l=D();l&&(((t=l.parentElement)==null?void 0:t.firstChild)===l&&((f=(i=l.closest(q))==null?void 0:i.querySelector(Be))==null||f.scrollIntoView({block:"nearest"})),l.scrollIntoView({block:"nearest"}))}function D(){var t;return(t=M.current)==null?void 0:t.querySelector(`${he}[aria-selected="true"]`)}function L(){var t;return Array.from(((t=M.current)==null?void 0:t.querySelectorAll(ve))||[])}function Q(t){let i=L()[t];i&&k.setState("value",i.getAttribute(P))}function Z(t){var i;let f=D(),l=L(),p=l.findIndex(E=>E===f),h=l[p+t];(i=m.current)!=null&&i.loop&&(h=p+t<0?l[l.length-1]:p+t===l.length?l[0]:l[p+t]),h&&k.setState("value",h.getAttribute(P))}function de(t){let i=D(),f=i?.closest(q),l;for(;f&&!l;)f=t>0?Qe(f,q):Ze(f,q),l=f?.querySelector(ve);l?k.setState("value",l.getAttribute(P)):Z(t)}let se=()=>Q(L().length-1),ce=t=>{t.preventDefault(),t.metaKey?se():t.altKey?de(1):Z(1)},fe=t=>{t.preventDefault(),t.metaKey?Q(0):t.altKey?de(-1):Z(-1)};return a.createElement(j.div,{ref:n,tabIndex:-1,...B,"cmdk-root":"",onKeyDown:t=>{var i;(i=B.onKeyDown)==null||i.call(B,t);let f=t.nativeEvent.isComposing||t.keyCode===229;if(!(t.defaultPrevented||f))switch(t.key){case"n":case"j":{A&&t.ctrlKey&&ce(t);break}case"ArrowDown":{ce(t);break}case"p":case"k":{A&&t.ctrlKey&&fe(t);break}case"ArrowUp":{fe(t);break}case"Home":{t.preventDefault(),Q(0);break}case"End":{t.preventDefault(),se();break}case"Enter":{t.preventDefault();let l=D();if(l){let p=new Event(ae);l.dispatchEvent(p)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:_.inputId,id:_.labelId,style:rt},b),G(e,t=>a.createElement(xe.Provider,{value:k},a.createElement(be.Provider,{value:_},t))))}),Ge=a.forwardRef((e,n)=>{var r,c;let o=z(),d=a.useRef(null),s=a.useContext(ye),m=O(),b=ke(e),u=(c=(r=b.current)==null?void 0:r.forceMount)!=null?c:s?.forceMount;$(()=>{if(!u)return m.item(o,s?.id)},[u]);let v=Ee(o,d,[e.value,e.children,d],e.keywords),g=le(),C=R(x=>x.value&&x.value===v.current),w=R(x=>u||m.filter()===!1?!0:x.search?x.filtered.items.get(o)>0:!0);a.useEffect(()=>{let x=d.current;if(!(!x||e.disabled))return x.addEventListener(ae,S),()=>x.removeEventListener(ae,S)},[w,e.onSelect,e.disabled]);function S(){var x,k;U(),(k=(x=b.current).onSelect)==null||k.call(x,v.current)}function U(){g.setState("value",v.current,!0)}if(!w)return null;let{disabled:A,value:B,onSelect:H,forceMount:oe,keywords:W,...M}=e;return a.createElement(j.div,{ref:V(d,n),...M,id:o,"cmdk-item":"",role:"option","aria-disabled":!!A,"aria-selected":!!C,"data-disabled":!!A,"data-selected":!!C,onPointerMove:A||m.getDisablePointerSelection()?void 0:U,onClick:A?void 0:S},e.children)}),Ue=a.forwardRef((e,n)=>{let{heading:r,children:c,forceMount:o,...d}=e,s=z(),m=a.useRef(null),b=a.useRef(null),u=z(),v=O(),g=R(w=>o||v.filter()===!1?!0:w.search?w.filtered.groups.has(s):!0);$(()=>v.group(s),[]),Ee(s,m,[e.value,e.heading,b]);let C=a.useMemo(()=>({id:s,forceMount:o}),[o]);return a.createElement(j.div,{ref:V(m,n),...d,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},r&&a.createElement("div",{ref:b,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),G(e,w=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},a.createElement(ye.Provider,{value:C},w))))}),He=a.forwardRef((e,n)=>{let{alwaysRender:r,...c}=e,o=a.useRef(null),d=R(s=>!s.search);return!r&&!d?null:a.createElement(j.div,{ref:V(o,n),...c,"cmdk-separator":"",role:"separator"})}),We=a.forwardRef((e,n)=>{let{onValueChange:r,...c}=e,o=e.value!=null,d=le(),s=R(u=>u.search),m=R(u=>u.selectedItemId),b=O();return a.useEffect(()=>{e.value!=null&&d.setState("search",e.value)},[e.value]),a.createElement(j.input,{ref:n,...c,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":b.listId,"aria-labelledby":b.labelId,"aria-activedescendant":m,id:b.inputId,type:"text",value:o?e.value:s,onChange:u=>{o||d.setState("search",u.target.value),r?.(u.target.value)}})}),_e=a.forwardRef((e,n)=>{let{children:r,label:c="Suggestions",...o}=e,d=a.useRef(null),s=a.useRef(null),m=R(u=>u.selectedItemId),b=O();return a.useEffect(()=>{if(s.current&&d.current){let u=s.current,v=d.current,g,C=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let w=u.offsetHeight;v.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return C.observe(u),()=>{cancelAnimationFrame(g),C.unobserve(u)}}},[]),a.createElement(j.div,{ref:V(d,n),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":m,"aria-label":c,id:b.listId},G(e,u=>a.createElement("div",{ref:V(s,b.listInnerRef),"cmdk-list-sizer":""},u)))}),Je=a.forwardRef((e,n)=>{let{open:r,onOpenChange:c,overlayClassName:o,contentClassName:d,container:s,...m}=e;return a.createElement(Ce,{open:r,onOpenChange:c},a.createElement(Ie,{container:s},a.createElement(Se,{"cmdk-overlay":"",className:o}),a.createElement(Re,{"aria-label":e.label,"cmdk-dialog":"",className:d},a.createElement(we,{ref:n,...m}))))}),Xe=a.forwardRef((e,n)=>R(r=>r.filtered.count===0)?a.createElement(j.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),Ye=a.forwardRef((e,n)=>{let{progress:r,children:c,label:o="Loading...",...d}=e;return a.createElement(j.div,{ref:n,...d,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},G(e,s=>a.createElement("div",{"aria-hidden":!0},s)))}),K=Object.assign(we,{List:_e,Item:Ge,Input:We,Group:Ue,Separator:He,Dialog:Je,Empty:Xe,Loading:Ye});function Qe(e,n){let r=e.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function Ze(e,n){let r=e.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function ke(e){let n=a.useRef(e);return $(()=>{n.current=e}),n}var $=typeof window>"u"?a.useEffect:a.useLayoutEffect;function N(e){let n=a.useRef();return n.current===void 0&&(n.current=e()),n}function R(e){let n=le(),r=()=>e(n.snapshot());return a.useSyncExternalStore(n.subscribe,r,r)}function Ee(e,n,r,c=[]){let o=a.useRef(),d=O();return $(()=>{var s;let m=(()=>{var u;for(let v of r){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(u=v.current.textContent)==null?void 0:u.trim():o.current}})(),b=c.map(u=>u.trim());d.value(e,m,b),(s=n.current)==null||s.setAttribute(P,m),o.current=m}),o}var et=()=>{let[e,n]=a.useState(),r=N(()=>new Map);return $(()=>{r.current.forEach(c=>c()),r.current=new Map},[e]),(c,o)=>{r.current.set(c,o),n({})}};function tt(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function G({asChild:e,children:n},r){return e&&a.isValidElement(n)?a.cloneElement(tt(n),{ref:n.ref},r(n.props.children)):r(n)}var rt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function ut({className:e,...n}){return I.jsx(K,{"data-slot":"command",className:F("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...n})}function it({className:e,...n}){return I.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[I.jsx(De,{className:"size-4 shrink-0 opacity-50"}),I.jsx(K.Input,{"data-slot":"command-input",className:F("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...n})]})}function dt({className:e,...n}){return I.jsx(K.List,{"data-slot":"command-list",className:F("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...n})}function st({...e}){return I.jsx(K.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function ct({className:e,...n}){return I.jsx(K.Group,{"data-slot":"command-group",className:F("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...n})}function ft({className:e,...n}){return I.jsx(K.Item,{"data-slot":"command-item",className:F("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function mt({...e}){return I.jsx(je,{"data-slot":"popover",...e})}function pt({...e}){return I.jsx(Ae,{"data-slot":"popover-trigger",...e})}function vt({className:e,align:n="center",sideOffset:r=4,...c}){return I.jsx(Me,{children:I.jsx($e,{"data-slot":"popover-content",align:n,sideOffset:r,className:F("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...c})})}export{ut as C,mt as P,pt as a,vt as b,it as c,dt as d,st as e,ct as f,ft as g};
