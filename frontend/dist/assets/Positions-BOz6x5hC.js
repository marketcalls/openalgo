import{r as a,j as e,a as ye}from"./vendor-react-RhKMXzW9.js";import{d as Ne,o as ve,e as F,B as E,c as N,t as Q,s as O}from"./index-x1pK-xPi.js";import{t as ie}from"./trading-DgjkcKdy.js";import{A as we,a as Ce,b as ke,c as Se,d as Pe,e as Te,f as De,g as Ee,h as Re}from"./alert-dialog-D4fk7pkp.js";import{C as K,b as se,d as ne,c as ae,a as Ae}from"./card-D-rUrtnk.js";import{D as Fe,a as Oe,b as Me,c as Le,d as _e,e as qe,f as Ie}from"./dialog-CzlkGobx.js";import{L as re}from"./label-DSHlWQD7.js";import{T as $e,a as Ue,b as le,c as Y,d as Ge,e as p,f as Be}from"./table-CizGfm4l.js";import{Q as We,V as He,R as ze,D as Xe,X as de,L as Je,w as Ve,W as Qe,c as Ke,Y as Ye,_ as Ze}from"./vendor-icons-Chlwwn8V.js";import"./vendor-syntax-D6hV6JR3.js";import"./vendor-router-DdyOoyPF.js";import"./vendor-radix-B_grJx4K.js";async function et(){return(await(await fetch("/auth/csrf-token",{credentials:"include"})).json()).csrf_token}function tt({symbols:o,mode:x="LTP",enabled:j=!0,autoReconnect:v=!0}){const[M,z]=a.useState(new Map),[I,$]=a.useState(!1),[R,d]=a.useState(!1),[L,i]=a.useState(!1),[X,T]=a.useState(null),w=a.useRef(null),S=a.useRef(null),U=a.useRef(new Set),A=a.useRef([]),G=a.useCallback(async()=>et(),[]),B=a.useCallback(C=>{if(!w.current||w.current.readyState!==WebSocket.OPEN||!R){A.current=C;return}const h=C.filter(m=>{const u=`${m.exchange}:${m.symbol}`;return!U.current.has(u)});h.length!==0&&(w.current.send(JSON.stringify({action:"subscribe",symbols:h,mode:x})),h.forEach(m=>{const u=`${m.exchange}:${m.symbol}`;U.current.add(u),z(b=>{const c=new Map(b);return c.has(u)||c.set(u,{symbol:m.symbol,exchange:m.exchange,data:{}}),c})}))},[R,x]),J=a.useCallback(C=>{try{const h=JSON.parse(C.data);switch(h.type||h.status){case"auth":h.status==="success"?(d(!0),T(null),A.current.length>0&&setTimeout(()=>{B(A.current),A.current=[]},100)):T(`Authentication failed: ${h.message}`);break;case"market_data":{const u=h.symbol.toUpperCase(),b=h.exchange,c=h.data||{},_=`${b}:${u}`;z(D=>{const k=D.get(_);if(!k)return D;const ee=new Map(D),y={...k.data};return Object.assign(y,{ltp:c.ltp??y.ltp,open:c.open??y.open,high:c.high??y.high,low:c.low??y.low,close:c.close??y.close,volume:c.volume??y.volume,change:c.change??y.change,change_percent:c.change_percent??y.change_percent,timestamp:c.timestamp??y.timestamp}),ee.set(_,{...k,data:y,lastUpdate:Date.now()}),ee});break}case"subscribe":break;case"error":T(`WebSocket error: ${h.message}`);break}}catch{}},[B]),W=a.useCallback(async()=>{if(w.current?.readyState!==WebSocket.OPEN){i(!0),T(null);try{const C=await G(),m=await(await fetch("/api/websocket/config",{headers:{"X-CSRFToken":C},credentials:"include"})).json();if(m.status!=="success")throw new Error("Failed to get WebSocket configuration");const u=m.websocket_url,b=new WebSocket(u);b.onopen=async()=>{$(!0),i(!1);try{const c=await G(),D=await(await fetch("/api/websocket/apikey",{headers:{"X-CSRFToken":c},credentials:"include"})).json();D.status==="success"&&D.api_key?b.send(JSON.stringify({action:"authenticate",api_key:D.api_key})):T("No API key found - please generate one at /apikey")}catch(c){T(`Authentication error: ${c}`)}},b.onclose=c=>{$(!1),i(!1),d(!1),U.current.clear(),v&&!c.wasClean&&j&&(S.current=setTimeout(W,3e3))},b.onerror=()=>{T("WebSocket connection error"),i(!1)},b.onmessage=J,w.current=b}catch(C){T(`Connection failed: ${C}`),i(!1)}}},[G,J,v,j]),H=a.useCallback(()=>{S.current&&(clearTimeout(S.current),S.current=null),w.current&&(w.current.close(1e3,"User disconnect"),w.current=null),$(!1),d(!1),U.current.clear()},[]);return a.useEffect(()=>(j&&o.length>0&&!I&&!L&&W(),()=>{S.current&&clearTimeout(S.current)}),[j,o.length,I,L,W]),a.useEffect(()=>{R&&o.length>0&&B(o)},[R,o,B]),a.useEffect(()=>()=>{H()},[H]),{data:M,isConnected:I,isAuthenticated:R,isConnecting:L,error:X,connect:W,disconnect:H}}const ue="openalgo_positions_prefs";function Z(o){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(o)}function st(o,x){if(x==="NSE"||x==="BSE")return{underlying:o,expiry:null,strike:null,optionType:null};const j=o.match(/^(.+?)(\d{1,2}[A-Z]{3}\d{2})FUT$/i);if(j)return{underlying:j[1],expiry:j[2],strike:null,optionType:"FUT"};const v=o.match(/^(.+?)(\d{1,2}[A-Z]{3}\d{2})(\d+\.?\d*)(CE|PE)$/i);return v?{underlying:v[1],expiry:v[2],strike:v[3],optionType:v[4]}:{underlying:o,expiry:null,strike:null,optionType:null}}function xe(o){const x=o.average_price||0,j=o.quantity||0,v=o.pnl||0;if(x===0||j===0)return 0;const M=Math.abs(x*j);return M>0?v/M*100:0}const nt={NSE:"bg-cyan-500/20 text-cyan-600 border-cyan-500/30",BSE:"bg-slate-500/20 text-slate-600 border-slate-500/30",NFO:"bg-purple-500/20 text-purple-600 border-purple-500/30",BFO:"bg-amber-500/20 text-amber-600 border-amber-500/30",MCX:"bg-blue-500/20 text-blue-600 border-blue-500/30",CDS:"bg-teal-500/20 text-teal-600 border-teal-500/30"},at={CNC:"bg-purple-500/20 text-purple-600 border-purple-500/30",MIS:"bg-cyan-500/20 text-cyan-600 border-cyan-500/30",NRML:"bg-slate-500/20 text-slate-600 border-slate-500/30"};function ft(){const{apiKey:o}=Ne(),[x,j]=a.useState([]),[v,M]=a.useState(!0),[z,I]=a.useState(!1),[$,R]=a.useState(null),[d,L]=a.useState("none"),[i,X]=a.useState({product:[],direction:[],exchange:[]}),[T,w]=a.useState(new Set),[S,U]=a.useState(null),[A,G]=a.useState("asc"),[B,J]=a.useState(!1),W=a.useMemo(()=>x.map(t=>({symbol:t.symbol,exchange:t.exchange})),[x]),{data:H,isConnected:C}=tt({symbols:W,mode:"LTP",enabled:x.length>0}),h=a.useMemo(()=>x.map(t=>{const s=`${t.exchange}:${t.symbol}`,n=H.get(s);if(n?.data?.ltp&&n.lastUpdate&&Date.now()-n.lastUpdate<5e3){const r=n.data.ltp,l=t.average_price||0,f=t.quantity||0,g=(r-l)*f,oe=Math.abs(l*f),be=oe>0?g/oe*100:0;return{...t,ltp:r,pnl:g,pnlpercent:be}}return t}),[x,H]);a.useEffect(()=>{try{const t=localStorage.getItem(ue);if(t){const s=JSON.parse(t);s.grouping&&L(s.grouping),s.filters&&X({product:s.filters.product||[],direction:s.filters.direction||[],exchange:s.filters.exchange||[]})}}catch(t){console.error("Error loading preferences:",t)}},[]);const m=a.useCallback(()=>{localStorage.setItem(ue,JSON.stringify({grouping:d,filters:i}))},[d,i]);a.useEffect(()=>{m()},[m]);const u=a.useCallback(async(t=!1)=>{if(!o){M(!1);return}t&&I(!0);try{const s=await ie.getPositions(o);s.status==="success"&&s.data?(j(s.data),R(null)):R(s.message||"Failed to fetch positions")}catch{R("Failed to fetch positions")}finally{M(!1),I(!1)}},[o]);a.useEffect(()=>{u();const s=setInterval(()=>u(),C?3e4:1e4);return()=>clearInterval(s)},[u,C]),a.useEffect(()=>{const t=ve(()=>{u()});return()=>t()},[u]);const b=a.useCallback(t=>{const s=t.exchange,n=t.product;if(s==="NSE"||s==="BSE"){if(n==="CNC")return"Equity (Delivery)";if(n==="MIS")return"Equity (Intraday)"}const r=st(t.symbol,s);return d==="underlying"?r.underlying:d==="underlying_expiry"&&r.expiry?`${r.underlying} - ${r.expiry}`:r.underlying},[d]),c=a.useMemo(()=>h.filter(t=>{if(i.product.length>0&&!i.product.includes(t.product))return!1;const s=t.quantity||0;if(i.direction.length>0){const n=s>0,r=s<0;if(i.direction.includes("LONG")&&!i.direction.includes("SHORT")&&!n||i.direction.includes("SHORT")&&!i.direction.includes("LONG")&&!r)return!1}return!(i.exchange.length>0&&!i.exchange.includes(t.exchange))}),[h,i]),_=a.useMemo(()=>S===null?c:[...c].sort((t,s)=>{let n,r;switch(S){case 0:n=t.symbol,r=s.symbol;break;case 3:n=t.quantity||0,r=s.quantity||0;break;case 4:n=t.average_price||0,r=s.average_price||0;break;case 6:n=t.pnl||0,r=s.pnl||0;break;case 7:n=xe(t),r=xe(s);break;default:return 0}return typeof n=="string"?A==="asc"?n.localeCompare(r):r.localeCompare(n):A==="asc"?n-r:r-n}),[c,S,A]),D=a.useMemo(()=>{if(d==="none")return{_all:_};const t={};return _.forEach(s=>{const n=b(s);t[n]||(t[n]=[]),t[n].push(s)}),t},[_,d,b]),k=a.useMemo(()=>{const t=c.length,s=c.filter(l=>(l.quantity||0)>0).length,n=c.filter(l=>(l.quantity||0)<0).length,r=c.reduce((l,f)=>l+(f.pnl||0),0);return{total:t,long:s,short:n,totalPnl:r}},[c]),ee=t=>{S===t?G(A==="asc"?"desc":"asc"):(U(t),G("asc"))},y=(t,s)=>{X(n=>{const r=n[t];return r.indexOf(s)>-1?{...n,[t]:r.filter(f=>f!==s)}:{...n,[t]:[...r,s]}})},ce=()=>{X({product:[],direction:[],exchange:[]}),L("none"),w(new Set)},he=t=>{w(s=>{const n=new Set(s);return n.has(t)?n.delete(t):n.add(t),n})},te=i.product.length>0||i.direction.length>0||i.exchange.length>0||d!=="none",pe=async t=>{try{const s=await ie.closePosition(t.symbol,t.exchange,t.product);s.status==="success"?u(!0):Q.error(s.message||"Failed to close position")}catch(s){console.error("Close position error:",s),Q.error("Failed to close position")}},ge=async()=>{try{const t=await ie.closeAllPositions();t.status==="success"?(Q.success("All positions closed"),u(!0)):Q.error(t.message||"Failed to close all positions")}catch(t){console.error("Close all positions error:",t),Q.error("Failed to close all positions")}},me=()=>{const t=["Symbol","Exchange","Product","Quantity","Avg Price","LTP","P&L","P&L %"],s=c.map(g=>[O(g.symbol),O(g.exchange),O(g.product),O(g.quantity),O(g.average_price),O(g.ltp),O(g.pnl),O(g.pnlpercent)]),n=[t,...s].map(g=>g.join(",")).join(`
`),r=new Blob([n],{type:"text/csv"}),l=URL.createObjectURL(r),f=document.createElement("a");f.href=l,f.download=`positions_${new Date().toISOString().split("T")[0]}.csv`,f.click()},q=t=>t>=0,P=({type:t,value:s,label:n})=>e.jsx(E,{variant:i[t].includes(s)?"default":"outline",size:"sm",className:N("rounded-full",i[t].includes(s)&&"bg-pink-500 hover:bg-pink-600"),onClick:()=>y(t,s),children:n}),V=({column:t,label:s,className:n})=>e.jsx(Y,{className:N("cursor-pointer hover:bg-muted/50 select-none",n),onClick:()=>ee(t),children:e.jsxs("div",{className:N("flex items-center gap-1 w-full",n?.includes("text-right")&&"justify-end"),children:[s,e.jsx(Ze,{className:"h-3 w-3 opacity-50"})]})}),fe=t=>{let s=0,n=0;t.forEach(l=>{s+=l.pnl||0;const f=l.average_price||0,g=Math.abs(l.quantity||0);n+=f*g});const r=n>0?s/n*100:0;return{totalPnl:s,pnlPercent:r,count:t.length}},je=Object.keys(D).sort((t,s)=>t.startsWith("Equity")&&!s.startsWith("Equity")?-1:!t.startsWith("Equity")&&s.startsWith("Equity")?1:t.localeCompare(s));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Positions"}),C&&e.jsxs(F,{variant:"outline",className:"bg-emerald-500/10 text-emerald-600 border-emerald-500/30 gap-1",children:[e.jsx(We,{className:"h-3 w-3 animate-pulse"}),"Live"]})]}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage your active trading positions"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(Fe,{open:B,onOpenChange:J,children:[e.jsx(Oe,{asChild:!0,children:e.jsxs(E,{variant:te?"default":"outline",size:"sm",className:"relative",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Settings",te&&e.jsx("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-red-500 rounded-full"})]})}),e.jsxs(Me,{className:"max-w-md",children:[e.jsxs(Le,{children:[e.jsx(_e,{children:"Position Settings"}),e.jsx(qe,{children:"Configure grouping and filters"})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(re,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Grouping"}),e.jsx("div",{className:"space-y-2",children:[{value:"none",label:"None"},{value:"underlying",label:"Underlying"},{value:"underlying_expiry",label:"Underlying & Expiry"}].map(t=>e.jsxs("label",{className:N("flex items-center gap-3 cursor-pointer p-2 rounded hover:bg-muted",d===t.value&&"bg-pink-500/10 border border-pink-500/30"),children:[e.jsx("input",{type:"radio",name:"grouping",checked:d===t.value,onChange:()=>{L(t.value),w(new Set)},className:"accent-pink-500"}),e.jsx("span",{className:N(d===t.value&&"text-pink-500 font-semibold"),children:t.label})]},t.value))})]}),e.jsx("div",{className:"border-t"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(re,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Product Type"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(P,{type:"product",value:"CNC",label:"CNC"}),e.jsx(P,{type:"product",value:"MIS",label:"MIS"}),e.jsx(P,{type:"product",value:"NRML",label:"NRML"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(re,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Direction"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(P,{type:"direction",value:"LONG",label:"Long"}),e.jsx(P,{type:"direction",value:"SHORT",label:"Short"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(re,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Exchange"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(P,{type:"exchange",value:"NSE",label:"NSE"}),e.jsx(P,{type:"exchange",value:"BSE",label:"BSE"}),e.jsx(P,{type:"exchange",value:"NFO",label:"NFO"}),e.jsx(P,{type:"exchange",value:"BFO",label:"BFO"}),e.jsx(P,{type:"exchange",value:"MCX",label:"MCX"}),e.jsx(P,{type:"exchange",value:"CDS",label:"CDS"})]})]})]}),e.jsxs(Ie,{children:[e.jsx(E,{variant:"ghost",onClick:ce,children:"Clear All"}),e.jsx(E,{onClick:()=>J(!1),children:"Done"})]})]})]}),e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>u(!0),disabled:z,children:[e.jsx(ze,{className:N("h-4 w-4 mr-2",z&&"animate-spin")}),"Refresh"]}),e.jsxs(E,{variant:"outline",size:"sm",onClick:me,children:[e.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(we,{children:[e.jsx(Ce,{asChild:!0,children:e.jsxs(E,{variant:"destructive",size:"sm",disabled:x.length===0,children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Close All"]})}),e.jsxs(ke,{children:[e.jsxs(Se,{children:[e.jsx(Pe,{children:"Close All Positions?"}),e.jsxs(Te,{children:["This will close all ",x.length," open positions at market price. This action cannot be undone."]})]}),e.jsxs(De,{children:[e.jsx(Ee,{children:"Cancel"}),e.jsx(Re,{onClick:ge,children:"Close All"})]})]})]})]})]}),te&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Active Filters:"}),d!=="none"&&e.jsxs(F,{variant:"secondary",className:"bg-pink-500/10 text-pink-600 border-pink-500/30",children:["Grouped: ",d==="underlying"?"Underlying":"Underlying & Expiry"]}),i.product.map(t=>e.jsx(F,{variant:"secondary",className:"bg-pink-500/10 text-pink-600 border-pink-500/30",children:t},t)),i.direction.map(t=>e.jsx(F,{variant:"secondary",className:"bg-pink-500/10 text-pink-600 border-pink-500/30",children:t},t)),i.exchange.map(t=>e.jsx(F,{variant:"secondary",className:"bg-pink-500/10 text-pink-600 border-pink-500/30",children:t},t)),e.jsx(E,{variant:"outline",size:"sm",className:"text-red-500 border-red-500/50 hover:bg-red-500/10",onClick:ce,children:"Clear All"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(K,{children:e.jsxs(se,{className:"pb-2",children:[e.jsx(ne,{children:"Open Positions"}),e.jsx(ae,{className:"text-2xl",children:k.total})]})}),e.jsx(K,{children:e.jsxs(se,{className:"pb-2",children:[e.jsx(ne,{children:"Long"}),e.jsx(ae,{className:"text-2xl text-green-600",children:k.long})]})}),e.jsx(K,{children:e.jsxs(se,{className:"pb-2",children:[e.jsx(ne,{children:"Short"}),e.jsx(ae,{className:"text-2xl text-red-600",children:k.short})]})}),e.jsx(K,{children:e.jsxs(se,{className:"pb-2",children:[e.jsx(ne,{children:"Total P&L"}),e.jsx(ae,{className:N("text-2xl",q(k.totalPnl)?"text-green-600":"text-red-600"),children:Z(k.totalPnl)})]})})]}),e.jsx(K,{children:e.jsx(Ae,{className:"p-0",children:v?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Je,{className:"h-8 w-8 animate-spin"})}):$?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:$}):c.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx("p",{className:"mb-4",children:"No positions match your filters"}),te&&e.jsx(E,{variant:"ghost",size:"sm",onClick:ce,children:"Clear Filters"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs($e,{children:[e.jsx(Ue,{children:e.jsxs(le,{children:[e.jsx(V,{column:0,label:"Symbol",className:"w-[140px]"}),e.jsx(Y,{className:"w-[80px]",children:"Exchange"}),e.jsx(Y,{className:"w-[80px]",children:"Product"}),e.jsx(V,{column:3,label:"Qty",className:"w-[80px] text-right"}),e.jsx(V,{column:4,label:"Avg Price",className:"w-[120px] text-right"}),e.jsx(Y,{className:"w-[120px] text-right",children:"LTP"}),e.jsx(V,{column:6,label:"P&L",className:"w-[120px] text-right"}),e.jsx(V,{column:7,label:"P&L %",className:"w-[100px] text-right"}),e.jsx(Y,{className:"w-[60px] text-right",children:"Action"})]})}),e.jsx(Ge,{children:je.map(t=>{const s=D[t],n=T.has(t),r=fe(s);return e.jsxs(ye.Fragment,{children:[d!=="none"&&e.jsxs(le,{className:"bg-muted/50 cursor-pointer hover:bg-muted",onClick:()=>he(t),children:[e.jsx(p,{colSpan:6,children:e.jsxs("div",{className:"flex items-center gap-3 py-1 font-semibold",children:[n?e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(Qe,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:t}),e.jsx(F,{variant:"outline",className:"text-xs",children:r.count})]})}),e.jsxs(p,{className:N("text-right font-bold",q(r.totalPnl)?"text-green-600":"text-red-600"),children:[r.totalPnl>=0?"+":"",r.totalPnl.toFixed(2)]}),e.jsxs(p,{className:N("text-right font-semibold",q(r.pnlPercent)?"text-green-600":"text-red-600"),children:[r.pnlPercent>=0?"+":"",r.pnlPercent.toFixed(2),"%"]}),e.jsx(p,{})]}),!n&&s.map((l,f)=>e.jsxs(le,{children:[e.jsx(p,{className:"w-[140px] font-medium",children:l.symbol}),e.jsx(p,{className:"w-[80px]",children:e.jsx(F,{variant:"outline",className:nt[l.exchange]||"",children:l.exchange})}),e.jsx(p,{className:"w-[80px]",children:e.jsx(F,{variant:"outline",className:at[l.product]||"",children:l.product})}),e.jsx(p,{className:N("w-[80px] text-right font-medium",l.quantity>0?"text-green-600":"text-red-600"),children:l.quantity}),e.jsx(p,{className:"w-[120px] text-right font-mono",children:Z(l.average_price)}),e.jsx(p,{className:"w-[120px] text-right font-mono",children:l.ltp!==void 0?Z(l.ltp):"-"}),e.jsx(p,{className:N("w-[120px] text-right font-medium",q(l.pnl)?"text-green-600":"text-red-600"),children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[q(l.pnl)?e.jsx(Ke,{className:"h-4 w-4"}):e.jsx(Ye,{className:"h-4 w-4"}),Z(l.pnl)]})}),e.jsxs(p,{className:N("w-[100px] text-right",q(l.pnlpercent)?"text-green-600":"text-red-600"),children:[l.pnlpercent>=0?"+":"",l.pnlpercent?.toFixed(2)??"0.00","%"]}),e.jsx(p,{className:"w-[60px] text-right",children:e.jsx(E,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>pe(l),children:e.jsx(de,{className:"h-4 w-4"})})})]},`${l.symbol}-${l.exchange}-${f}`))]},t)})}),e.jsx(Be,{children:e.jsxs(le,{className:"bg-muted/50",children:[e.jsx(p,{colSpan:6,className:"text-right text-muted-foreground",children:"Total P&L:"}),e.jsxs(p,{className:N("w-[120px] text-right font-bold",q(k.totalPnl)?"text-green-600":"text-red-600"),children:[k.totalPnl>=0?"+":"",Z(k.totalPnl)]}),e.jsx(p,{colSpan:2})]})})]})})})})]})}export{ft as default};
